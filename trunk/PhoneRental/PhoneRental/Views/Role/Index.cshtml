@model IEnumerable<PhoneRental.Models.UserProfile>

@{
    ViewBag.Title = "Felhasználók";
}

<h2>Felhasználók</h2>

<table>
    <tr>
        <th><th>
        <th>
            @Html.DisplayNameFor(model => model.UserName)
        </th>
        <th>
            Név
        </th>
        <th>
            Szerepkör
        </th>
        <th></th>
    </tr>

@{var i = 0;
  List<string> roles = ViewBag.UsersRoles;
  List<string> avatars = ViewBag.UserAvatars;
  }
@foreach (var item in Model) {
    <tr>
        <td>
            <a href="javascript:showAvatar('@avatars.ElementAt(i)')">
                <img id="imgGravatar" style="height:80px;width:80px;" alt="" src="http://www.gravatar.com/avatar/@avatars.ElementAt(i)?s=80&d=mm">
            </a>
        <td>
        <td>
            @Html.DisplayFor(modelItem => item.UserName)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.LastName) @Html.DisplayFor(modelItem => item.FirstName)
        </td>
        <td>
            @roles.ElementAt(i)
        </td>
        <td>
            @Html.ActionLink("Szerkesztés", "Edit", new { id=item.UserId })
        </td>
    </tr>
    i++;
}

</table>
